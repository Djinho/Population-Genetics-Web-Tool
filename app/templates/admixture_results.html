<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admixture Analysis Results</title>
</head>
<body>
    <h1>Admixture Analysis Results</h1>
    <h2>{{ results.population_name }}</h2>
    <div>
        <h3>Ancestry Proportions</h3>
        <ul>
            {% for ancestry in results.ancestries %}
                <li>{{ ancestry }}</li>
            {% endfor %}
        </ul>
    </div>
    <div>
        <h3>Admixture Plot</h3>
        <form action="/analyze_admixture" method="post">
            <label for="plot_type">Select Plot Type:</label>
            <select name="plot_type" id="plot_type">
                <option value="bar" {% if request.form.get('plot_type') == 'bar' %}selected{% endif %}>Bar Chart</option>
                <option value="heatmap" {% if request.form.get('plot_type') == 'heatmap' %}selected{% endif %}>Heatmap</option>
            </select>
            <input type="hidden" name="populations" value="{{ ','.join(request.form.getlist('populations[]')) }}">
            <input type="submit" value="Generate Plot">
        </form>
        <img src="{{ results.plot_url }}" alt="Admixture Plot">
    </div>
</body>
</html>
